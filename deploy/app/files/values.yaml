# https://github.com/DND-IT/helm-charts/tree/main/charts/app
port: 8080

metadata:
  deploymentAnnotations:

probe:
  liveness: /api/health
  readiness: /api/health

# env:
#   FOO: bar

ingress:
  className: alb
  annotations:
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS":443}]'
    alb.ingress.kubernetes.io/actions.ssl-redirect: '{"Type": "redirect", "RedirectConfig": { "Protocol": "HTTPS", "Port": "443", "StatusCode": "HTTP_301"}}'
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/ssl-policy: ELBSecurityPolicy-TLS13-1-2-2021-06
    alb.ingress.kubernetes.io/target-type: ip
    external-dns.alpha.kubernetes.io/hostname: ${hostname}
  hosts:
    - ${hostname}

nodeSelector:
  "kubernetes.io/arch": amd64

# tolerations:
#   - key: karpenter.sh/default
#     operator: Exists
#     effect: NoSchedule
